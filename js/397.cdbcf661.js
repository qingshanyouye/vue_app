"use strict";(self["webpackChunkvue_demo"]=self["webpackChunkvue_demo"]||[]).push([[397],{5397:function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"up"},[t("div",{staticClass:"up-1"},[t("div",{staticClass:"main-1"},[t("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"form",attrs:{rules:e.rules,inline:!0,model:e.form,"label-width":"80px","before-close":e.handleClose}},[t("el-form-item",{attrs:{label:"序号",prop:"id"}},[t("el-input",{attrs:{placeholder:"请输入序号"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"年龄",prop:"age"}},[t("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.form.age,callback:function(t){e.$set(e.form,"age",t)},expression:"form.age"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"sex"}},[t("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[t("el-option",{attrs:{label:"男",value:1}}),t("el-option",{attrs:{label:"女",value:0}})],1)],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelPopup}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.userAdd}},[e._v("确 定")])],1)],1)],1),t("div",{staticClass:"header-1"},[t("el-button",{attrs:{type:"primary"},on:{click:e.popUp}},[e._v(" +新增 ")]),t("el-form",{attrs:{inline:!0}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.findUser}},[e._v("查询")]),t("el-button",{attrs:{type:"primary"},on:{click:e.delUser}},[e._v("删除")])],1)],1)],1),t("div",{staticClass:"table-1"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{prop:"id",label:"序号",width:"100"}}),t("el-table-column",{attrs:{prop:"name",label:"名字",width:"120"}}),t("el-table-column",{attrs:{prop:"age",label:"年龄",width:"120"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别",width:"200"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==s.row.sex?"男":"女"))])]}}])}),t("el-table-column",{attrs:{prop:"address",label:"地址",width:"170"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleClick(s.row,s.$index)}}},[e._v("修改")])]}}])})],1)],1)])]),t("div",{staticClass:"down"})])},l=[],r=s(9451);const i=e=>r.Z.get("http://127.0.0.1/list/all",e),o=e=>r.Z.get("http://127.0.0.1/list/add",e),d=e=>r.Z.get("http://127.0.0.1/list/update",e),n=e=>r.Z.get("http://127.0.0.1/list/del",e),m=e=>r.Z.get("http://127.0.0.1/list/find",e);var u={data(){return{value1:null,modelType:0,colors:["#99A9BF","#F7BA2A","#FF9900"],userForm:{name:""},tableData:[],userId:"",dialogVisible:!1,form:{name:"",age:"",sex:"",address:"",id:"",username:"",password:""},rules:{id:[{required:!0,message:"请输入序号",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}],address:[{required:!0,message:"请输入联系电话",trigger:"blur"}]}}},computed:{},methods:{delUser(){n({params:{id:this.userId}}).then((e=>{console.log(e.data),200==e.data.status?this.getUserList():this.$message({message:"删除失败",type:"error"})}))},getUserList(){i().then((e=>{this.tableData=e.data}))},findUser(){""==this.userId?this.getUserList():m({params:{id:this.userId}}).then((e=>{this.tableData=e.data}))},cancelPopup(){this.$refs.form.resetFields()},handleClose(){this.dialogVisible=!1},popUp(){this.modelType=0,this.dialogVisible=!0},cancelPopup(){this.dialogVisible=!1},userAdd(){this.$refs.form.validate((e=>{e&&(0==this.modelType?o({params:{id:this.form.id,name:this.form.name,address:this.form.address,age:this.form.age,sex:this.form.sex}}).then((e=>{200==e.data.status?this.getUserList():this.$message({message:"添加失败",type:"error"})})):(d({params:{id:this.form.id,name:this.form.name,address:this.form.address,age:this.form.age,sex:this.form.sex}}).then((e=>{200==e.data.status?(this.getUserList(),this.$message({message:"修改成功",type:"success"})):(console.log(e),this.$message({message:"修改失败",type:"error"}))})),this.$refs.form.resetFields(),this.dialogVisible=!1))})),this.$refs.form.resetFields(),this.dialogVisible=!1},handleClick(e,t){this.modelType=1,this.dialogVisible=!0,this.form=e,this.index=t}},mounted(){this.getUserList()}},p=u,c=s(1001),f=(0,c.Z)(p,a,l,!1,null,"a463b2e6",null),h=f.exports}}]);
//# sourceMappingURL=397.cdbcf661.js.map